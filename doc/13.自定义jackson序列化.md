# 自定义jackson序列化和日期新特性

Jackson序列化我们用过了，就是在utils中的 `jsonUtil`文件中，

用于将参数信息进行序列化，

这玩意儿应该用过的次数很多，但是好像也没比较过这Java8中新特性，反正咱主打一个能看懂，然后用新的工具。

![image-20241013014537541](https://cdn.jsdelivr.net/gh/Mirror18/imgage@main//202410130145596.png)

两种将当前日期加7天所需要的操作。



---

至于整合Jackson，则就很简单，定义了一个config.因为这玩意儿的功能就是序列化和反序列化一些东西，

所以在bean中自定义一些序列化规则，设置一些时区什么的。

再把原先的存在application 中的jackson配置给注释掉。整体的配置就完成了。





那么就有一个疑问，为什么在之前使用Jackson的时候，也就是jsonUtil中，为什么没配置这个bean,到这里为什么要配置呢。

我们首先要搞明白的是，为什么要有config这个东西，是因为spring的ioc政策，我们可以不用在最开始的时候new一个新的对象，而是只需要用变量表示即可。框架会自动帮我们自动创建一个单例对象。

在spring中，我们是用xml来表示实例化那些对象。然后就是spring框架内部自带的就不需要怎么配置，只要写出来即可使用。

但是我们经常使用三方组件，他们在源码中可是没有config这一个说法。那么只有我们自己创建bean。告诉他们如果要实例化这些三方对象的时候，类从哪里找。

原先是xml告知，后来就是用bean注解，告诉实例化的时候按照这个方案去实例化。

这才是关键。

也就是说，我们要考虑怎么创建对象的事。但是在jsonUtil中就告诉我们怎么创建个对象，你也发现了那个final字段的写法有点蛋疼，当时就应该好奇为什么这吊毛要这样写，因为我们需要objectMapper。

所以绕了这么一大圈的讲解，其实就是说在utils中，我们自己手动new了一个对象，并且这个对象还要是static的，所以才没有配置bean。

但是现在想用其他的了，所以就这么搞了。

那么把配置删了又是什么意思，那是因为spring boot中整合了jackson，所以我们不用写properties这些东西，用于注入配置中的信息。或者使用@Value这个注入到字段上。 

我们要自定义Jackson的输出情况，所以就需要这样搞，但是在bean中，已经配置好了信息，自然就不需要这些信息了。

